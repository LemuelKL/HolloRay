3D CAD

A: Informal language specification
==================================

The language HolloRay can perform 3D rendering of simple shapes and call back end JavaFX 3D functions.

S.1 Programs
------------

A HolloRay program is one or more statements

Statements are separated by the ; and-also operator. There is no statement terminator.

A sequence of whitespace characters can be used wherever one whitespace is valid.


S.2 Arithmetic and expressions
------------------------------

HolloRay has only 32-bit integer and real arithmetic

Non-keyword alphanumeric identifiers denote variables that may have integers and reals bound to them.

Operations provided are addition, subtraction, multiplication and division over constant integers and reals, and variables such as  $x+y$, $x-3$, $3.1*4$, or $3/x$.


S.3 Predicates
--------------

HolloRay allows comparison of 32-bit integers using relational operators that return a boolean result

x > y 		x greater than y

x != y  	x not equal to y

x == y  	x equal to y


S.4 Selection statements
------------------------

HolloRay provides two selection statements

if _pred then _statement else _statement

if _pred then _statement

where _pred is a predicate as defined in section S.3, and _statement is any statement


S.5 Iteration statements
------------------------

HolloRay provides one iteration statement

while _pred do _statement

where _pred is a predicate as defined in section S.4, and _statement is any statement


S.6 Domain specific types
-------------------------

HolloRay has the following domain specific types representing common shapes:

box

sphere

cone

cylinder

torus

tetrahedron


S.7 Domain specific operations
------------------------------

HolloRay provides a DSL-type statement

backend(_v1:int, _v2:int, _v3:int):int

where v1, v2 and v3 are integer expressions.

This statement then activates the corresponding method in class ValueUserPlugin via the __user() function in the ART value system.

The behaviour depends on the code implemented in that class.


and the following DSL-type statements for manipulating solids:

translate(_solid:solid, _x:real64, _y:real64, _z:real64)

rotate(_solid:_solid, _x:real64, _y:real64, _z:real64, _angle:real64)

scale(_solid:solid, _x:real64, _y:real64, _z:real64)

difference(_solid1:solid, _solid2:solid)

union(_solid1:solid, _solid2:solid)

intersection(_solid1:solid, _solid2:solid)


B: Internal syntax constructors and arities
===========================================

seq(_C1, _C2) execute command  C_1 followed by command C_2

sub(_E1:__int32, _E2:__int32):__int32 integer subtraction: E_1 - E_2

gt(_E1:__int32, _E2:__int32):__boolean integer greater-than E_1 > E_2

ne(_E1:__int32, _E2:__int32):__boolean integer not-equals E_1 ne E_2

assign(_N:__int32, _E:__int32) bind _E to name _N in variables map

deref(_N)) retrieve binding for name _N in variables map

if(_P:__bool, _C1, _C2) select if _P then execute C_2 else execute C_3

while(_P:__bool, _C1, _C2) iterate while _P then execute C_2 else execute C_3

backend(_V1, _V2, _V3) call __user(_V1, _V2, _V3)

box(_x:real64, _y:real64, _z:real64) create a box of dimension (_x, _y, _z)

sphere(_r:real64) create a sphere of radius _r

cone(_r:real64, _h:real64) create a cone of radius _r and height _h

cylinder(_r:real64, _h:real64) create a cylinder of radius _r and height _h

torus(_r:real64, _R:real64) create a torus of radius _r and major radius _R

tetrahedron(_e: real64) create a tetrahedron of edge length _e

translate(_solid:solid, _x:real64, _y:real64, _z:real64) translate a solid by (_x, _y, _z)

rotate(_solid:solid, _x:real64, _y:real64, _z:real64, _angle:real64) rotate a solid by _angle degrees around the axis (_x, _y, _z)

scale(_solid:solid, _x:real64, _y:real64, _z:real64) scale a solid by (_x, _y, _z)

difference(_solid1:solid, _solid2:solid) subtract solid _solid2 from solid _solid1

union(_solid1:solid, _solid2:solid) union solid _solid1 with solid _solid2

intersection(_solid1:solid, _solid2:solid) intersect solid _solid1 with solid _solid2


Note to self and Adrian: I don't think strings and characters would be necessary?